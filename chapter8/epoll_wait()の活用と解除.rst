epoll_wait()の活用
========================

* epoll_wait()でできること
    * 受信可能かどうかのチェック
    * 送信可能かどうかのチェック
    * タイムアウトのチェック
    * 任意のタイミグでconnect()処理を終了させる
    * エラーがあるかないかのチェックなど
    

epoll_wait()の解除
========================

* epoll_wait()はブロッキングAPI
* epoll_wait()のループをbreakしたいときは、epoll_wait()を解除する必要がある

シグナルを送信する
------------------------

* epoll_wait()が行われているPIDに対してシグナルを送信して、epoll_wait()を解除する
* シグナルを送信する手法は、プロセス全体に影響を与える

ソケットペアを使う
------------------------

* シグナルを使用すると意図しない他のシステムコールに影響を与える危険性があるので、epoll_wait()を解除するときはソケットペアを利用するほうが安全
* pipe()を利用したり、localhost同士でのTCP接続でもepoll_wait()を停止させる処理が可能

引用
あきみち，”基礎と実装Linuxネットワークプログラミング”，株式会社品の出版，2010，pp.236-255.